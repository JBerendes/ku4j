//kodmunki utilities
(function(e){if(!e){e={}}function d(g){d.base.call(this,g);this.dragOff().value(0)}d.prototype={value:function(g){return this.property("value",g)},display:function(g){g.display(this);return this}};e.ext(d,e.sprite.Class);e.chart=function(g){return new d(g)};function a(g){a.base.call(this,g)}a.prototype={$draw:function(g){return},$clear:function(){return},display:function(g){g.to().fadeTo(0,function(){e.clearNode(g.dom());this.appendTo(g.dom());g.fadeTo(100,function(){this.$draw(g)},this)},this)}};e.ext(a,e.dom.Class);e.abstractPerspective=function(){return new a()};function c(){c.base.call(this,e.create({canvas:{}}));this._context=this.dom().getContext("2d")}c.prototype={$draw:function(m){var n=this,h=this._context,s=m.value(),j=this.dom(),g=-0.5*Math.PI,i=this._skillValues[m.value()],r=m.outerDims(),q=r.x(),o=r.y(),k=q/2,p=h.createRadialGradient(k/2,k/2,2,k,k,k);j.width=q;j.height=o;p.addColorStop(0,"#afa");p.addColorStop(0.7,"#3a3");p.addColorStop(1,"#0a0");function l(t){h.clearRect(0,0,q,o);h.beginPath();h.strokeStyle="#ccc";h.arc(k,k,k,0,2*Math.PI);h.closePath();h.stroke();h.beginPath();h.fillStyle=p;h.arc(k,k,k,g,t);h.lineTo(k,k);h.fill();h.closePath()}e.tween(l,g,i,e.anime.algorithms.ease.linear(0.3)).onEnd(function(){l(i)}).start();return this},_skillValues:[-0.5*Math.PI,0,0.5*Math.PI,Math.PI,1.5*Math.PI]};e.ext(c,a);e.circlePerspective=function(){return new c()};function f(){f.base.call(this,e.create({input:{}}))}f.prototype={$draw:function(g){this.onblur(function(){var h=parseInt(this.dom().value),i=(isNaN(h)||h<0||h>4)?0:h;g.value(i).display(e.circlePerspective())},this).appendTo(g).dom().select()}};e.ext(f,a);e.inputPerspective=function(g){return new f(g)};function b(){b.base.call(this,e.create({canvas:{}}));this._context=this.dom().getContext("2d")}b.prototype={$draw:function(j){var i=this._context,k=j.value(),m=j.outerDims(),l=this.dom(),g=m.x(),n=m.y(),h;switch(k){case 1:h="#cfc";break;case 2:h="#8c8";break;case 3:h="#6b6";break;case 4:h="#080";break;default:h="#fff";break}l.width=g;l.height=n;i.clearRect(0,0,g,n);i.beginPath();i.strokeStyle="#ccc";i.rect(0,0,g,n);i.closePath();i.stroke();i.beginPath();i.fillStyle=h;i.rect(0,0,g,n);i.closePath();i.fill()}};e.ext(b,a);e.rectanglePerspective=function(){return new b()}})($);